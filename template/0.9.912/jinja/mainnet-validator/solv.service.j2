[Unit]
Description=Solana Validator
After=network.target
StartLimitIntervalSec=0

[Service]
Type=simple
Restart=always
RestartSec=1
LimitNOFILE=1000000
LimitMEMLOCK=2000000000
LogRateLimitIntervalSec=0
User=solv
Environment=PATH=/home/solv/.local/share/solana/install/active_release/bin
WorkingDirectory=/home/solv
{% if validator_type == 'jito-bam' %}
Environment=SOLANA_METRICS_CONFIG=host=http://bam-public-metrics.jito.wtf:8086,db=mainnet-bam-validators,u=mainnet-bam-validator,p=wambamdamng
{% else %}
Environment=SOLANA_METRICS_CONFIG=host=https://metrics.solana.com:8086,db=mainnet-beta,u=mainnet-beta_write,p=password
{% endif %}
ExecStart=/home/solv/start-validator.sh

[Install]
WantedBy=multi-user.target